<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>公司风险热力图（分页）</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <style>
        #main {
            width: 1000px;
            height: 600px;
            margin: 20px auto;
        }
        #pagination {
            text-align: center;
            margin-bottom: 20px;
        }
        #pagination button {
            margin: 0 5px;
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
        }
        #page-info {
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <div id="pagination">
        <button id="prev-page">上一页</button>
        <span id="page-info"></span>
        <button id="next-page">下一页</button>
    </div>
    <div id="main"></div>

    <script>
        const risks = ['公司治理风险', '法律与合规风险', '财务与偿付风险', '信息披露风险', '经营稳定风险', '声誉与外部评级风险'];

        // 模拟 30 家公司
        const allCompanies = ["南京一中", "海昌海洋公园控股有限公司", "中软系统", "中源家居", "安徽市作为主场", "奥本海默", "小摩", "美联储古尔斯比", "芝芨旅游", "书香中国", "中新社", "基塞洛娃", "北京中医药大学", "通用汽车", "灯塔", "新明中国控股有限公司", "天津津门虎足球俱乐部", "立方控股", "Ser", "江铃汽车股份有限公司", "通用中程导弹", "苏-30MK", "Liidiaid", "巴克莱", "澳门", "广东穗丰食品有限公司", "奥乐齐", "国家电网", "广西名特优农产品", "嘉麟杰", "八亿时空", "浦银安盛基金", "花旗集团", "卡拉斯", "海南省演艺集团", "北京礼物", "加密货币", "佩洛西", "中信", "我的十五城", "广东东阳光男篮", "劳氏", "CMS", "AllmetEnergy", "CoinionEnergy", "艾里逊变速箱", "##ruceBIsccules", "高盛", "德飞公司", "小米", "未来", "新纪元能源公司", "Herc", "杜克能源公司", "都福集团", "南航", "巴西央行", "承德露露", "冠城新材", "易动文化", "同花顺财经", "虹膜写真", "壳牌海洋公司", "天瑞仪器", "汉高集团", "沈阳市经济技术开发区东区", "常州市", "雷神技术公司", "加拿大皇家银行", "ChenergyEnergy", "杰富瑞投资银行", "飞塔公司", "上海易居房地产", "湖南湘潭", "浦发银行", "博e（京东方）", "西哈莫尼", "中信保诚基金管理有限公司", "中国农业银行股份有限公司", "中关村泛联院", "商办", "大三巴", "IMF", "盛京银行股份有限公司", "夕阳团", "泛洲8”轮", "海河", "天津）生物科技发展有限公司", "俄罗斯天然气工业银行", "信息科技管理", "大瓜", "金通灵", "芯邦科技", "首创环保", "达实智能", "哈尔滨冰雪大世界", "中信证券", "奥巴马", "日本", "首尔龙山", "##rculesFarmersMarket", "美元树", "联储证券股份有限公司", "派格生物", "冰岛", "#&#", "福建", "小唐纳德", "2018年3月9日", "横琴", "特斯拉公司", "上海虹桥国际中央商务区", "丰田汽车", "美联物业", "金山桥站", "济宁微山县", "超微电脑", "ApogeeTherapeutics", "中新", "高耶尔", "中心金融", "南通港", "仙林站", "兰州蓝", "新疆职业大学烹饪与餐饮管理学院", "华润置地", "新世界", "富途", "榆鄂宁现代煤化工集团", "本基金", "阿塞拜疆", "中斯环保", "花旗", "陶氏化学", "智通财经", "江汉市", "ReaceMeconcepts", "白银", "软联通", "黎巴嫩", "安顺小吃", "泰森食品公司", "三农老道", "重庆银行股份有限公司", "西门子能源", "圳分公司", "义乌市稠城街道银苑社区", "雅芳埠村", "金华市金东区", "新华社快讯", "巴拉圭亚松森", "新疆煤炭交易中心有限公司", "绝味食品", "一鸣食品", "云南泰成农业发展有限公司", "前卫镇石河村", "华为", "共和党", "金山银山", "隆基爱旭", "人造石墨", "暖暖", "STntis", "小菜园国际控股", "金风科技", "氢电池", "未来电厂", "首都金边", "湖北茶发集团", "天津市工业互联网", "埃里森", "耶伦", "内蒙古西贝餐饮有限公司", "辽沈银行", "中山创新能力", "鱼峰集团", "中巴经济走廊", "宁波商业", "花活", "荣耀终端有限公司南京分公司", "新世纪百货遂宁新都", "酒鬼酒", "索菲亚", "农夫山泉", "广州汽车集团股份有限公司", "老凤祥", "顾家家居股份有限公司", "肯德基", "中葡教育", "博融资金", "东方基金管理有限公司", "广西来华留学生中国民歌大赛", "秦LDM-i", "海源复材", "北京华联商业运营管理有限公司", "香飘飘", "翁源兰花", "新德芳兰园", "宿迁时代储能", "黄海造船", "山西奥博能源电力有限公司", "深圳市智汇湖创业投资有限公司", "深圳市动力卫士新能源科技有限公司", "台群智能装备（深圳）有限公司", "深圳市集众智慧算力科技有限责任公司", "中恒（深圳）企业管理有限公司", "深圳市捷盛能源科技有限公司", "中国工商银行", "江西起家", "迪奥", "拼经济", "海山仙馆", "三六零", "南沙", "茂名", "茂名市", "中国古典文明研究院", "南非约翰内斯堡大学艺术设计建筑学院", "上汽大众", "鑫海科技", "g7易流", "武汉市高素质农民龙头企业", "东莞市电子信息产业部", "白鲸出海", "北南高铁", "绿美城央", "广东某涂料科技有限公司", "以色列", "拉夫罗夫", "大汉婚典", "浙江宁波", "吉利", "广东茂化建集团有限公司", "吉利银河", "阿萨德", "中信银行", "东坡文化旅游大会", "世茂服务", "美联储", "家装厨卫", "三百六十行", "ServiceNow", "宁夏和瑞包装有限公司", "胡家堡冰雪乐园", "广东利泰智农生态农业观光园景区", "南屯村集体股份经济合作社", "筑梦烘焙", "观澜榜智库", "西芒杜铁矿", "开远市", "昆明品牌", "天风证券研究所", "乾坤景行（上海）置业有限公司", "上海六个三汽车服务有限公司", "河北中新信德建材有限公司", "华翎智驭汽车零部件（上海）有限公司", "浙纹果师供应链有限公司", "上海浦兴创领科技发展有限公司", "江成顺通自动化设备有限公司", "上海宇泽盛新能源有限公司", "江丰数字科技有限公司", "古琴研学", "阿维塔科技", "龙华区", "数字经济", "苏州轨道交通", "上海证券交易所", "新疆疆纳矿业有限公司", "中国银行", "商业银行", "鸿荣源珈誉府", "抚顺特钢", "特朗普", "铜仁复烤厂", "马克龙", "汉德资本", "财通证券全资控股", "安顺市", "哈尔滨", "g60", "长江文化", "紫燕百味鸡", "韩国", "养老服务中心", "美丽工坊", "广州市全民阅读推广联盟", "金龙显", "泽连斯基", "睿昂基因", "鳌江村", "白手套", "brcanobase99n", "尼桑天籁", "富奥股份", "玉林市", "长沙工业学院", "波音公司", "值得买科技", "四川凯茨阀门制造有限公司", "锦州工业", "金星", "四川蜀泰化工科技有限公司", "瑞银集团", "埃尔多安", "广州期货交易所股份有限公司", "河北港口集团", "俄乌能源", "新华社德黑兰", "南方基金", "滨城-仙泉", "中国人民保险集团股份有限公司", "京东星宇电竞(北京)文化传播有限公司", "巴尼耶", "GLPOO", "湖北省头墩农场农业发展有限公司", "湖北顶境空间文化传媒有限公司", "湖北首嘉卓越能源有限公司", "鄂州临空教育科技有限公司", "湖南省卓正能源科技有限公司", "利川市盛璟药业有限公司", "长沙市零壹觉醒科技有限公司", "贝鲁", "绿圣兰业", "安联基金", "人民银行", "玉屏分公司", "铜仁市退役军人就业创业服务", "南通", "新疆兵旅亚心全域旅游投资运营管理有限公司", "金风科技股份有限公司", "威远县高石镇", "全新", "华盛橡胶", "好消息", "日照", "杜普兰蒂斯", "上海）实业股份有限公司", "AL#奥乐齐", "广东省农事运动会乡村直播大赛", "京东家电万绿城广场", "文山州", "千方百计", "TIkmetk", "珠宝", "成都金中心", "Ag#", "暗鹰", "长沙江湾妇产医院", "欧莱雅", "双凤镇", "绿色丝路", "中国高铁", "丽发新城", "智慧望城", "北京市职业技能大赛", "恒瑞医药", "积极稳健", "Open#", "新疆报业传媒&集团有限公司", "成都中医药大学", "亿能电力", "聚农业精品·享自贸商机", "中石油西南油气田公司", "黎族传统纺染织绣技艺", "黑石集团", "江畔花市", "吉祥航空", "赛微电子", "麻省理工", "寒武纪", "名特优新", "特斯拉", "蒙特利尔银行", "加拿大", "西安交通大学", "凯拉", "建设银行", "思尔芯", "PxisOnCoO", "FuelCellEnergy", "圆通速递", "快科技", "广东电网机巡中心", "市见义勇为基金会", "长江口", "夏天油车", "北京鑫鑫晟餐饮店", "罗马尼亚", "广元市", "可爱生物", "蔚来汽车", "中关村科学城", "内江市", "高铁", "江苏核电", "上海港复兴船务有限公司", "航天大洋", "中船天津造船", "天元中医药博物馆", "前门大栅栏商圈", "能和", "SpaceX", "威海金陵", "贝仕集团", "柳州融媒", "云Fun创意市集", "北约", "电动自行车", "武鸣沃柑", "法雷奥", "海口市", "成都市乾陵景区", "蜜雪冰城", "盒子", "广西校外培训监管", "宾县第五小学", "海南万里真吾", "新华社", "格鲁吉亚", "东风汽车股份", "北京市典籍博物馆", "西安银行股份有限公司", "张家界市第八届人民代表大会", "盐城市丰之堰城镇建设发展有限公司", "氢碳富能（江苏）智慧能源有限公司", "PlanetFitness", "大众汽车", "中捷资源投资股份有限公司", "兰州建设", "越南", "越南工会", "爱尔兰", "巴库", "亿航", "波黑", "云南省代表团", "银行", "低空经济发展司", "海西天防科技有限公司", "明溪县", "天龙山", "花钱", "四川文化传播有限公司", "四川省川剧院", "空竹", "五谷奶茶", "宏陶瓷砖", "国航远洋", "朝阳合生汇", "内蒙古蒙凯投资控股集团有限公司", "景洪市国润能源有限责任公司", "中国旅游集团有限公司", "华润万家", "鄂尔多斯市", "东方山上", "京东", "中药", "陆家嘴金融城", "内蒙古", "建德", "民生", "中信银行股份有限公司", "华泰证券股份有限公司", "中心城市", "俄罗斯", "中远海运特运", "希腊航运公司", "胡塞武装", "苏权", "遂宁经鑫供应链管理有限公司", "遂宁经创城市照明工程有限公司", "广元欣发置业有限公司", "四川天勤诚和建设工程有限公司", "四川祥念宁建筑工程有限公司", "深圳海洋大学", "平潭润源海运有限公司", "南华大学", "红棉老兵", "晋能源新能源", "小鹏汇天", "英国", "沈阳市金字环境", "米莱", "胖东来", "上海振华重工", "江鸿巨船舶制造有限公司", "外高桥造船", "阿里健康大药房", "小米集团", "尚品宅配", "北京京客隆商业集团股份有限公司", "周大生", "沈**", "小鹏汽车销售有限公司", "中国电路模拟式继电保护", "泰国曼谷", "江西省认定机构", "江西新龙生物科技股份有限公司", "尹锡悦", "荣耀", "特鲁多", "福聚晋安", "福建师范大学", "北京大学第六医院", "漳州市龙海区", "黎明职业大学", "博23转债", "巨潮资讯网", "涪陵榨菜", "西安饮食", "社保基金", "凯莱英", "华润双鹤", "奔腾激光", "银泰", "阿里大文娱", "中国邮政", "四川乐山和邦化工有限公司", "广东新能源产业", "Myritgroup", "吉利德科学公司", "StratMeuregroupinc", "OnHoldingAg", "洛克希德马丁公司", "rocketLab", "诺斯罗普格鲁曼公司", "林肯电气控股有限公司", "香港设计中心", "九坤", "周黑鸭", "航空公司", "英伟达", "珠海天毅自动化设备有限公司", "广州巨铭自动化控制设备有限公司", "中交四航局第二工程有限公司"];
        const allScores = [[2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 5], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [3, 1, 1, 2, 1, 1], [3, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [1, 1, 2, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [3, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 2, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 2, 1, 1, 1], [2, 1, 1, 2, 1, 1], [5, 1, 1, 2, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 2, 2, 2, 3, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 4], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 2, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [3, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 2, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 2, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 3], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 2, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 2, 1, 1, 1], [1, 1, 1, 2, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [1, 1, 2, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 4, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [3, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 2, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [4, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 4, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [3, 1, 1, 1, 1, 1], [1, 1, 1, 3, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 2, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 3, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [3, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [3, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 2, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [1, 2, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1], [2, 1, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 2]];

        // 分页参数
        const pageSize = 10;
        let currentPage = 1;
        const totalPages = Math.ceil(allCompanies.length / pageSize);

        function getPageData(page) {
            const start = (page - 1) * pageSize;
            const end = Math.min(start + pageSize, allCompanies.length);

            const companies = allCompanies.slice(start, end);
            const scores = allScores.slice(start, end);
            const totalScores = scores.map(s => (s.reduce((a, b) => a + b, 0) / s.length).toFixed(2));

            // 按总评分升序排序
            const sorted = companies.map((name, i) => ({
                name,
                scores: scores[i],
                total: totalScores[i]
            })).sort((a, b) => a.total - b.total);

            return {
                names: sorted.map(c => c.name),
                scores: sorted.map(c => c.scores),
                totals: sorted.map(c => c.total)
            };
        }

        function renderHeatmap(page) {
            const { names, scores, totals } = getPageData(page);
            const data = [];

            for (let i = 0; i < names.length; i++) {
                for (let j = 0; j < risks.length; j++) {
                    data.push([j, i, scores[i][j]]);
                }
                data.push([risks.length, i, parseFloat(totals[i])]);
            }

            const option = {
                title: {
                    text: '公司风险热力图',
                    left: 'center',
                    top: 10,
                    padding: [0, 0, 20, 0]
                },
                tooltip: {
                    formatter: function (params) {
                        const isTotal = params.value[0] === risks.length;
                        const company = names[params.value[1]];
                        const label = isTotal ? '总评分' : risks[params.value[0]];
                        return `${company}<br/>${label}：<strong>${params.value[2]}</strong>`;
                    }
                },
                grid: {
                    left: '10%',
                    right: '10%',
                    bottom: '15%',
                    top: '20%'
                },
                xAxis: {
                    type: 'category',
                    data: [...risks, '风险指数'],
                    position: 'top',
                    splitArea: { show: true },
                    axisLabel: {
                        interval: 0,
                        rotate: 30,
                        margin: 15
                    }
                },
                yAxis: {
                    type: 'category',
                    data: names,
                    splitArea: { show: true },
                    axisLabel: { margin: 15 }
                },
                visualMap: {
                    min: 0,
                    max: 10,
                    calculable: true,
                    orient: 'horizontal',
                    left: 'center',
                    bottom: '5%'
                },
                series: [{
                    name: '风险得分',
                    type: 'heatmap',
                    data: data,
                    label: { show: true },
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            };

            const chartDom = document.getElementById('main');
            const myChart = echarts.init(chartDom);
            myChart.setOption(option);

            document.getElementById('page-info').textContent = `第 ${currentPage} / ${totalPages} 页`;
        }

        document.getElementById('prev-page').onclick = () => {
            if (currentPage > 1) {
                currentPage--;
                renderHeatmap(currentPage);
            }
        };

        document.getElementById('next-page').onclick = () => {
            if (currentPage < totalPages) {
                currentPage++;
                renderHeatmap(currentPage);
            }
        };

        // 初始加载
        renderHeatmap(currentPage);
    </script>
</body>
</html>
